# AsyncControl æ–‡ä»¶ç´¢å¼•

## ğŸ“ æ–‡ä»¶ç»“æ„

```
AsyncControl/
â”œâ”€â”€ README.md                      # æ€»ä½“è¯´æ˜
â”œâ”€â”€ INDEX.md                       # æœ¬æ–‡ä»¶ï¼šæ–‡ä»¶ç´¢å¼•
â”œâ”€â”€ asyncControl.js                # å¹¶å‘æ§åˆ¶å™¨å®ç°
â”œâ”€â”€ async-await.js                 # async/await å®Œæ•´å®ç°
â”œâ”€â”€ async-await.md                 # async/await è¯¦ç»†æ–‡æ¡£
â”œâ”€â”€ async-await-interview.js       # async/await é¢è¯•ç‰ˆ
â””â”€â”€ async-await-cheatsheet.md      # async/await å¿«é€Ÿå‚è€ƒå¡ç‰‡
```

## ğŸ“ æ–‡ä»¶è¯´æ˜

### 1. async-await.js â­â­â­
**å®Œæ•´çš„ async/await å®ç°**

åŒ…å«å†…å®¹ï¼š
- âœ… ä¸‰ç§å®ç°æ–¹æ³•ï¼ˆå®Œæ•´ç‰ˆã€ç®€åŒ–ç‰ˆã€ä¸€æ¬¡éå†ç‰ˆï¼‰
- âœ… è¯¦ç»†æ³¨é‡Šè¯´æ˜
- âœ… 6ä¸ªæµ‹è¯•ç”¨ä¾‹
- âœ… é”™è¯¯å¤„ç†æ¼”ç¤º
- âœ… ä¸²è¡Œå’Œå¹¶è¡Œæ‰§è¡Œç¤ºä¾‹
- âœ… å®é™…åº”ç”¨åœºæ™¯

é€‚åˆï¼š
- å­¦ä¹ ç†è§£åŸç†
- ç”Ÿäº§ç¯å¢ƒå‚è€ƒ
- å®Œæ•´åŠŸèƒ½å®ç°

---

### 2. async-await-interview.js â­â­â­
**é¢è¯•ä¸“ç”¨ç‰ˆæœ¬**

åŒ…å«å†…å®¹ï¼š
- âœ… ç²¾ç®€çš„æ ¸å¿ƒå®ç°
- âœ… é¢è¯•é—®ç­”æŒ‡å—
- âœ… ä¸‰ç§ä¸åŒå®ç°ç‰ˆæœ¬
- âœ… çŸ¥è¯†ç‚¹æ€»ç»“
- âœ… å®æ—¶è¿è¡Œæ¼”ç¤º

é€‚åˆï¼š
- é¢è¯•å‰å¤ä¹ 
- å¿«é€Ÿç†è§£åŸç†
- ç°åœºæ‰‹å†™ä»£ç 

æ¨èè®°å¿†ï¼š**ç®€åŒ–ç‰ˆ**ï¼ˆ13è¡Œæ ¸å¿ƒä»£ç ï¼‰

---

### 3. async-await.md â­â­â­
**è¯¦ç»†æŠ€æœ¯æ–‡æ¡£**

åŒ…å«å†…å®¹ï¼š
- ğŸ“– æ ¸å¿ƒåŸç†è§£æ
- ğŸ“– å®ç°ç»†èŠ‚è¯´æ˜
- ğŸ“– ä½¿ç”¨ç¤ºä¾‹
- ğŸ“– é¢è¯•è¦ç‚¹
- ğŸ“– å¸¸è§é”™è¯¯
- ğŸ“– å®é™…åº”ç”¨åœºæ™¯

é€‚åˆï¼š
- æ·±å…¥ç†è§£åŸç†
- é¢è¯•å‡†å¤‡
- æŠ€æœ¯åˆ†äº«

---

### 4. async-await-cheatsheet.md â­â­â­
**å¿«é€Ÿå‚è€ƒå¡ç‰‡**

åŒ…å«å†…å®¹ï¼š
- ğŸš€ 30ç§’æ ¸å¿ƒä»£ç 
- ğŸš€ 1åˆ†é’ŸåŸç†è§£é‡Š
- ğŸš€ 3åˆ†é’Ÿé¢è¯•é—®ç­”
- ğŸš€ ä»£ç å˜ä½“
- ğŸš€ å¸¸è§é”™è¯¯
- ğŸš€ è®°å¿†å£è¯€

é€‚åˆï¼š
- é¢è¯•å‰5åˆ†é’Ÿå¤ä¹ 
- å¿«é€ŸæŸ¥é˜…
- çŸ¥è¯†ç‚¹é€Ÿè®°

---

### 5. asyncControl.js
**å¹¶å‘æ§åˆ¶å™¨å®ç°**

åŒ…å«å†…å®¹ï¼š
- Scheduler ç±»ï¼ˆå¹¶å‘æ§åˆ¶ï¼‰
- TaskQueue ç±»ï¼ˆä¸²è¡Œé˜Ÿåˆ—ï¼‰
- serialExecute å‡½æ•°
- parallelExecute å‡½æ•°

é€‚åˆï¼š
- å®é™…é¡¹ç›®ä½¿ç”¨
- å¹¶å‘æ§åˆ¶éœ€æ±‚
- ä»»åŠ¡è°ƒåº¦åœºæ™¯

---

### 6. README.md
**æ€»ä½“è¯´æ˜æ–‡æ¡£**

åŒ…å«å†…å®¹ï¼š
- æ‰€æœ‰æ¨¡å—æ¦‚è¿°
- æ ¸å¿ƒåŠŸèƒ½è¯´æ˜
- æ€§èƒ½ä¼˜åŒ–å»ºè®®
- åº”ç”¨åœºæ™¯

---

## ğŸ¯ ä½¿ç”¨æŒ‡å—

### åœºæ™¯ 1: å­¦ä¹ ç†è§£
**æ¨èé˜…è¯»é¡ºåº**ï¼š
1. `async-await-cheatsheet.md` - å¿«é€Ÿäº†è§£
2. `async-await.md` - æ·±å…¥ç†è§£
3. `async-await.js` - çœ‹ä»£ç å®ç°

### åœºæ™¯ 2: é¢è¯•å‡†å¤‡
**æ¨èé˜…è¯»é¡ºåº**ï¼š
1. `async-await-cheatsheet.md` - å¿«é€Ÿå¤ä¹ ï¼ˆ5åˆ†é’Ÿï¼‰
2. `async-await-interview.js` - æ‰‹å†™ç»ƒä¹ ï¼ˆ15åˆ†é’Ÿï¼‰
3. `async-await.md` é¢è¯•è¦ç‚¹éƒ¨åˆ† - é—®ç­”å‡†å¤‡ï¼ˆ10åˆ†é’Ÿï¼‰

### åœºæ™¯ 3: å®é™…åº”ç”¨
**æ¨èä½¿ç”¨**ï¼š
- `asyncControl.js` - å¹¶å‘æ§åˆ¶
- `async-await.js` ä¸­çš„å·¥å…·å‡½æ•°

### åœºæ™¯ 4: å¿«é€ŸæŸ¥é˜…
**æ¨èä½¿ç”¨**ï¼š
- `async-await-cheatsheet.md` - å¿«é€Ÿå‚è€ƒ
- `INDEX.md`ï¼ˆæœ¬æ–‡ä»¶ï¼‰- æ–‡ä»¶ç´¢å¼•

---

## ğŸ“Š ä»£ç ç‰ˆæœ¬å¯¹æ¯”

### å®Œæ•´ç‰ˆï¼ˆasync-await.jsï¼‰
```javascript
function asyncToGenerator(generatorFunc) {
    return function(...args) {
        const gen = generatorFunc.apply(this, args);
        return new Promise((resolve, reject) => {
            function step(key, arg) {
                let result;
                try {
                    result = gen[key](arg);
                } catch (error) {
                    return reject(error);
                }
                const { value, done } = result;
                if (done) {
                    return resolve(value);
                } else {
                    return Promise.resolve(value).then(
                        val => step('next', val),
                        err => step('throw', err)
                    );
                }
            }
            step('next');
        });
    };
}
```
**ä¼˜ç‚¹**ï¼šé€»è¾‘æ¸…æ™°ï¼Œæ˜“äºç†è§£  
**ç¼ºç‚¹**ï¼šä»£ç è¾ƒé•¿  
**æ¨èåœºæ™¯**ï¼šå­¦ä¹ ç†è§£

---

### ç®€åŒ–ç‰ˆï¼ˆasync-await-interview.jsï¼‰
```javascript
function simpleAsync(genFunc) {
    return function(...args) {
        const gen = genFunc.apply(this, args);
        return new Promise((resolve, reject) => {
            function step(key, arg) {
                try {
                    const { value, done } = gen[key](arg);
                    if (done) return resolve(value);
                    Promise.resolve(value).then(
                        val => step('next', val),
                        err => step('throw', err)
                    );
                } catch (e) {
                    reject(e);
                }
            }
            step('next');
        });
    };
}
```
**ä¼˜ç‚¹**ï¼šä»£ç ç²¾ç®€ï¼Œæ ¸å¿ƒé€»è¾‘æ¸…æ™°  
**ç¼ºç‚¹**ï¼šå¯è¯»æ€§ç•¥é™  
**æ¨èåœºæ™¯**ï¼šé¢è¯•æ‰‹å†™

---

### ç²¾ç®€ç‰ˆï¼ˆasync-await-interview.jsï¼‰
```javascript
function miniAsync(genFunc) {
    return (...args) => {
        const gen = genFunc(...args);
        return new Promise((resolve, reject) => {
            const step = (key, arg) => {
                const { value, done } = gen[key](arg);
                if (done) return resolve(value);
                Promise.resolve(value).then(
                    v => step('next', v),
                    e => step('throw', e)
                );
            };
            step('next');
        });
    };
}
```
**ä¼˜ç‚¹**ï¼šä»£ç æœ€çŸ­ï¼Œä¸€ç›®äº†ç„¶  
**ç¼ºç‚¹**ï¼šç¼ºå°‘é”™è¯¯å¤„ç†  
**æ¨èåœºæ™¯**ï¼šå¿«é€Ÿæ¼”ç¤º

---

## ğŸ”¥ æ ¸å¿ƒçŸ¥è¯†ç‚¹

### 1. åŸç†
- Generator + Promise + è‡ªåŠ¨æ‰§è¡Œå™¨
- yield æš‚åœï¼Œnext() æ¢å¤
- é€’å½’å¤„ç†ç›´åˆ°å®Œæˆ

### 2. å…³é”®ç‚¹
- `gen[key](arg)` æ‰§è¡Œ Generator
- `Promise.resolve(value)` ç»Ÿä¸€å¤„ç†
- `step('next', val)` æˆåŠŸç»§ç»­
- `step('throw', err)` å¤±è´¥æŠ›å‡º

### 3. é”™è¯¯å¤„ç†
- try/catch æ•è·åŒæ­¥é”™è¯¯
- Promise.catch æ•è·å¼‚æ­¥é”™è¯¯
- gen.throw() ä¼ é€’é”™è¯¯

### 4. æ€§èƒ½ä¼˜åŒ–
- ä¸²è¡Œï¼šä¾æ¬¡ await
- å¹¶è¡Œï¼šPromise.all
- å¹¶å‘æ§åˆ¶ï¼šåˆ†æ‰¹å¤„ç†

---

## ğŸ“ å­¦ä¹ å»ºè®®

### åˆå­¦è€…
1. å…ˆçœ‹ `async-await-cheatsheet.md` äº†è§£æ¦‚å¿µ
2. è¿è¡Œ `async-await-interview.js` çœ‹æ•ˆæœ
3. é˜…è¯» `async-await.md` ç†è§£åŸç†
4. æ‰‹å†™å®ç°å¹¶è°ƒè¯•

### å‡†å¤‡é¢è¯•
1. ç†Ÿè¯» `async-await-cheatsheet.md`
2. æ‰‹å†™ `simpleAsync` ç‰ˆæœ¬ 5 é
3. å‡†å¤‡é¢è¯•é—®ç­”ï¼ˆè§ cheatsheetï¼‰
4. ç†è§£ä¸²è¡Œå’Œå¹¶è¡Œçš„åŒºåˆ«

### å®é™…åº”ç”¨
1. ä½¿ç”¨ `asyncControl.js` ä¸­çš„å·¥å…·
2. å‚è€ƒ `async-await.js` ä¸­çš„å®é™…æ¡ˆä¾‹
3. æ ¹æ®éœ€æ±‚è°ƒæ•´å¹¶å‘æ§åˆ¶

---

## ğŸ“š ç›¸å…³èµ„æº

### å†…éƒ¨æ–‡æ¡£
- `Promise/promise.js` - Promise å®ç°
- `Promise/all.js` - Promise.all å®ç°
- `Promise/race.js` - Promise.race å®ç°

### å¤–éƒ¨èµ„æº
- MDN: async function
- MDN: Generator
- ES6 è§„èŒƒæ–‡æ¡£

---

## ğŸš€ å¿«é€Ÿæµ‹è¯•

```bash
# æµ‹è¯•å®Œæ•´å®ç°
node async-await.js

# æµ‹è¯•é¢è¯•ç‰ˆæœ¬
node async-await-interview.js
```

---

## âœ… æ£€æŸ¥æ¸…å•

å­¦ä¹ å®Œæˆåï¼Œç¡®ä¿ä½ èƒ½ï¼š
- [ ] è§£é‡Š async/await çš„åŸç†
- [ ] æ‰‹å†™æ ¸å¿ƒå®ç°ï¼ˆ15è¡Œå†…ï¼‰
- [ ] å¤„ç†åŒæ­¥å’Œå¼‚æ­¥é”™è¯¯
- [ ] å®ç°ä¸²è¡Œå’Œå¹¶è¡Œæ‰§è¡Œ
- [ ] ç†è§£ Generator çš„ä½œç”¨
- [ ] è§£é‡Šè‡ªåŠ¨æ‰§è¡Œå™¨çš„åŸç†
- [ ] å›ç­”å¸¸è§é¢è¯•é—®é¢˜

---

æœ€åæ›´æ–°ï¼š2024å¹´10æœˆ7æ—¥
