# ç”Ÿæˆæ‹¬å· - å¿«é€Ÿè®°å¿†æŒ‡å—

## ğŸ¯ ä¸€å¥è¯æ€»ç»“

**ç»™å®š nï¼Œç”Ÿæˆæ‰€æœ‰åˆæ³•çš„ n å¯¹æ‹¬å·ç»„åˆï¼Œå…³é”®æ˜¯æ§åˆ¶å·¦å³æ‹¬å·çš„æ·»åŠ æ—¶æœºã€‚**

---

## ğŸ”¥ æ ¸å¿ƒä»£ç ï¼ˆèƒŒè¯µç‰ˆï¼‰

```javascript
function generateParenthesis(n) {
    const result = [];
    
    function backtrack(path, left, right) {
        // 1. ç»ˆæ­¢æ¡ä»¶ï¼šå·¦å³æ‹¬å·éƒ½ç”¨å®Œ
        if (left === n && right === n) {
            result.push(path);
            return;
        }
        
        // 2. å‰ªæï¼šå³æ‹¬å·å¤šäºå·¦æ‹¬å·ï¼Œä¸åˆæ³•
        if (right > left) return;
        
        // 3. é€‰æ‹©1ï¼šæ·»åŠ å·¦æ‹¬å·ï¼ˆè¿˜æœ‰å‰©ä½™ï¼‰
        if (left < n) {
            backtrack(path + '(', left + 1, right);
        }
        
        // 4. é€‰æ‹©2ï¼šæ·»åŠ å³æ‹¬å·ï¼ˆä¸èƒ½è¶…è¿‡å·¦æ‹¬å·ï¼‰
        if (right < left) {
            backtrack(path + ')', left, right + 1);
        }
    }
    
    backtrack('', 0, 0);
    return result;
}
```

---

## ğŸ“‹ å…³é”®ç‚¹é€ŸæŸ¥è¡¨

| é¡¹ç›® | å†…å®¹ |
|:-----|:-----|
| **å‚æ•°** | `path` (å½“å‰å­—ç¬¦ä¸²), `left` (å·²ç”¨å·¦æ‹¬å·æ•°), `right` (å·²ç”¨å³æ‹¬å·æ•°) |
| **ç»ˆæ­¢æ¡ä»¶** | `left === n && right === n` |
| **å‰ªææ¡ä»¶** | `right > left` (å³æ‹¬å·ä¸èƒ½å¤šäºå·¦æ‹¬å·) |
| **æ·»åŠ  ( æ¡ä»¶** | `left < n` |
| **æ·»åŠ  ) æ¡ä»¶** | `right < left` |
| **æ—¶é—´å¤æ‚åº¦** | O(4^n / âˆšn) - å¡ç‰¹å…°æ•° |
| **ç©ºé—´å¤æ‚åº¦** | O(n) - é€’å½’æ ˆæ·±åº¦ |

---

## ğŸ’¡ ä¸‰ä¸ªå…³é”®é—®é¢˜

### Q1: ä»€ä¹ˆæ—¶å€™å¯ä»¥æ·»åŠ å·¦æ‹¬å· `(`ï¼Ÿ
**A: åªè¦å·¦æ‹¬å·æ•°é‡è¿˜æ²¡ç”¨å®Œï¼ˆ`left < n`ï¼‰å°±å¯ä»¥æ·»åŠ ã€‚**

### Q2: ä»€ä¹ˆæ—¶å€™å¯ä»¥æ·»åŠ å³æ‹¬å· `)`ï¼Ÿ
**A: åªè¦å³æ‹¬å·æ•°é‡å°‘äºå·¦æ‹¬å·æ•°é‡ï¼ˆ`right < left`ï¼‰å°±å¯ä»¥æ·»åŠ ã€‚**

### Q3: ä¸ºä»€ä¹ˆä¸éœ€è¦æ’¤é”€é€‰æ‹©ï¼Ÿ
**A: å› ä¸ºç”¨çš„æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥ï¼ˆ`path + '('`ï¼‰ï¼Œæ¯æ¬¡é€’å½’éƒ½åˆ›å»ºäº†æ–°çš„å­—ç¬¦ä¸²ï¼Œä¸ä¼šå½±å“å…¶ä»–åˆ†æ”¯ã€‚**

---

## ğŸŒ³ å›æº¯æ ‘ç¤ºä¾‹ (n = 2)

```
                    ""(0,0)
                      |
                  "("(1,0)
                  /      \
            "(("(2,0)   "()"(1,1)
                |           |
            "(()"(2,1)   "()(2,1)
                |           |
            "(())"(2,2) "()()"(2,2)
               âœ…           âœ…
```

**è¯´æ˜ï¼š**
- æ‹¬å·å†… `(left, right)` è¡¨ç¤ºå·²ä½¿ç”¨çš„å·¦å³æ‹¬å·æ•°é‡
- âœ… è¡¨ç¤ºæ‰¾åˆ°ä¸€ä¸ªåˆæ³•ç»“æœ
- æ¯ä¸€å±‚æ ¹æ®æ¡ä»¶é€‰æ‹©æ·»åŠ  `(` æˆ– `)`

---

## ğŸ”„ æ‰§è¡Œæµç¨‹ï¼ˆn = 2ï¼‰

```
1. ("", 0, 0)        â†’ æ·»åŠ  (
   â”œâ”€ 2. ("(", 1, 0)    â†’ æ·»åŠ  (
   â”‚   â””â”€ 3. ("((", 2, 0)   â†’ åªèƒ½æ·»åŠ  )
   â”‚       â””â”€ 4. ("(()", 2, 1)  â†’ åªèƒ½æ·»åŠ  )
   â”‚           â””â”€ 5. "(())"(2, 2) âœ… ç»“æœ1
   â”‚
   â””â”€ 6. ("(", 1, 0)    â†’ æ·»åŠ  )
       â””â”€ 7. ("()", 1, 1)   â†’ æ·»åŠ  (
           â””â”€ 8. ("()(", 2, 1)  â†’ åªèƒ½æ·»åŠ  )
               â””â”€ 9. "()()"(2, 2) âœ… ç»“æœ2

æœ€ç»ˆç»“æœ: ["(())", "()()"]
```

---

## âš¡ å¸¸è§é”™è¯¯

### âŒ é”™è¯¯1ï¼šå¿˜è®°å‰ªæ
```javascript
// æ²¡æœ‰å‰ªæï¼Œä¼šç”Ÿæˆ )( è¿™ç§ä¸åˆæ³•çš„
function backtrack(path, left, right) {
    if (left === n && right === n) {
        result.push(path);
        return;
    }
    // âŒ ç¼ºå°‘ if (right > left) return;
    
    if (left < n) backtrack(path + '(', left + 1, right);
    if (right < n) backtrack(path + ')', left, right + 1); // âŒ æ¡ä»¶é”™è¯¯
}
```

### âŒ é”™è¯¯2ï¼šå³æ‹¬å·æ¡ä»¶é”™è¯¯
```javascript
// âŒ é”™è¯¯ï¼šæ¡ä»¶åº”è¯¥æ˜¯ right < leftï¼Œä¸æ˜¯ right < n
if (right < n) {  // è¿™ä¼šç”Ÿæˆä¸åˆæ³•çš„ç»„åˆ
    backtrack(path + ')', left, right + 1);
}

// âœ… æ­£ç¡®
if (right < left) {
    backtrack(path + ')', left, right + 1);
}
```

### âŒ é”™è¯¯3ï¼šç»ˆæ­¢æ¡ä»¶é”™è¯¯
```javascript
// âŒ é”™è¯¯ï¼šåªæ£€æŸ¥é•¿åº¦
if (path.length === 2 * n) {
    result.push(path);  // å¯èƒ½åŒ…å«ä¸åˆæ³•çš„ç»„åˆ
    return;
}

// âœ… æ­£ç¡®ï¼šæ£€æŸ¥å·¦å³æ‹¬å·æ•°é‡
if (left === n && right === n) {
    result.push(path);
    return;
}
```

---

## ğŸ†š ä¸å…¶ä»–å›æº¯é—®é¢˜çš„åŒºåˆ«

| ç‰¹æ€§ | ç»„åˆ/æ’åˆ—/å­é›† | ç”Ÿæˆæ‹¬å· |
|:-----|:-------------|:--------|
| **é€‰æ‹©æ–¹å¼** | éå†æ•°ç»„/åˆ—è¡¨ | åªæœ‰ä¸¤ä¸ªå›ºå®šé€‰æ‹© `(` æˆ– `)` |
| **å¾ªç¯ç»“æ„** | `for` å¾ªç¯ | `if` æ¡ä»¶åˆ¤æ–­ |
| **é˜²é‡å¤** | `start` æˆ– `used[]` | é€šè¿‡ `left`/`right` è®¡æ•°å™¨ |
| **æ’¤é”€é€‰æ‹©** | éœ€è¦ `path.pop()` | å­—ç¬¦ä¸²æ‹¼æ¥ä¸éœ€è¦æ’¤é”€ |

---

## ğŸ’ª è®°å¿†å£è¯€

```
å·¦æ‹¬å·éšä¾¿åŠ ï¼Œåªè¦æ²¡ç”¨å®Œ (left < n)
å³æ‹¬å·è¦å°å¿ƒï¼Œä¸èƒ½è¶…å·¦è¾¹ (right < left)
ä¸¤ä¸ªéƒ½ç”¨å®Œï¼Œæ”¶å‰²ä¸€ä¸ªè§£ (left === n && right === n)
å³è¾¹è¶…å·¦è¾¹ï¼Œç«‹å³è¦å‰ªæ (right > left)
```

---

## ğŸš€ å¿«é€Ÿæµ‹è¯•

```javascript
console.log(generateParenthesis(1)); // ["()"]
console.log(generateParenthesis(2)); // ["(())", "()()"]
console.log(generateParenthesis(3)); 
// ["((()))","(()())","(())()","()(())","()()()"]
```

---

## ğŸ“ é¢è¯•æ—¶çš„æ€è€ƒæ­¥éª¤

1. **æ˜ç¡®é—®é¢˜**ï¼šç”Ÿæˆæ‰€æœ‰åˆæ³•çš„ n å¯¹æ‹¬å·ç»„åˆ
2. **ç¡®å®šå‚æ•°**ï¼šéœ€è¦è·Ÿè¸ª `path`ã€`left`ã€`right`
3. **ç»ˆæ­¢æ¡ä»¶**ï¼šå·¦å³æ‹¬å·éƒ½ç”¨å®Œäº†
4. **å‰ªææ¡ä»¶**ï¼šå³æ‹¬å·ä¸èƒ½å¤šäºå·¦æ‹¬å·
5. **é€’å½’é€»è¾‘**ï¼š
   - å¯ä»¥æ·»åŠ å·¦æ‹¬å· â†’ é€’å½’
   - å¯ä»¥æ·»åŠ å³æ‹¬å· â†’ é€’å½’
6. **å¤æ‚åº¦åˆ†æ**ï¼šO(4^n / âˆšn)

---

## ğŸ”— ç›¸å…³é¢˜ç›®

- LeetCode 20: æœ‰æ•ˆçš„æ‹¬å·ï¼ˆæ ˆï¼‰
- LeetCode 32: æœ€é•¿æœ‰æ•ˆæ‹¬å·ï¼ˆDPï¼‰
- LeetCode 301: åˆ é™¤æ— æ•ˆçš„æ‹¬å·ï¼ˆBFS/å›æº¯ï¼‰
- LeetCode 678: æœ‰æ•ˆçš„æ‹¬å·å­—ç¬¦ä¸²ï¼ˆè´ªå¿ƒï¼‰

