# 滑动窗口 (Sliding Window)

## 1. 基本概念

滑动窗口是一种双指针技术的应用，通过维护一个窗口来解决问题。窗口通常是一个连续的子数组或子字符串。

## 2. 核心思想

- **扩大窗口**：移动右指针，扩大窗口范围
- **收缩窗口**：移动左指针，缩小窗口范围
- **更新答案**：在窗口变化过程中更新最优解

## 3. 常见模式

### 3.1 固定大小窗口
```javascript
// 窗口大小固定为 k
// 批注：看起来这里为啥用<=是因为窗口要保持k然后遍历完毕，不如直接背吧
for (let i = 0; i <= nums.length - k; i++) {
  // 处理窗口 [i, i+k-1]
}
```

### 3.2 可变大小窗口
```javascript
let left = 0;
for (let right = 0; right < nums.length; right++) {
  // 扩大窗口
  while (/* 需要收缩窗口的条件 */) {
    // 收缩窗口
    left++;
  }
  // 更新答案
}
```

## 4. 经典题目

### 4.1 最小覆盖子串
- **问题**：找到包含目标字符串所有字符的最小子串
- **解法**：使用哈希表记录字符需求，滑动窗口维护

### 4.2 无重复字符的最长子串
- **问题**：找到不含重复字符的最长子串
- **解法**：使用 Set 记录窗口中的字符

### 4.3 找到所有字母异位词
- **问题**：找到字符串中所有目标字符串的异位词
- **解法**：固定大小窗口，比较字符计数

## 5. 算法模板

```javascript
function slidingWindow(s) {
  const window = new Map(); // 或 Set、Array
  let left = 0;
  let right = 0;
  
  while (right < s.length) {
    // 扩大窗口
    const c = s[right];
    right++;
    // 更新窗口数据
    
    // 收缩窗口
    while (/* 需要收缩的条件 */) {
      const d = s[left];
      left++;
      // 更新窗口数据
    }
    
    // 更新答案
  }
  
  return result;
}
```

## 6. 时间复杂度分析

- **一般情况**：O(n)
- **每个元素最多被访问两次**（左指针和右指针各一次）
- **空间复杂度**：O(k)，k 为窗口大小

## 7. 面试要点

### 7.1 关键理解
- 什么时候扩大窗口？
- 什么时候收缩窗口？
- 如何维护窗口状态？

### 7.2 常见陷阱
1. **边界条件**：空字符串、单字符等
2. **窗口大小**：固定大小 vs 可变大小
3. **状态维护**：哈希表、计数器的正确更新

## 8. 扩展应用

- 字符串匹配
- 数组子序列
- 最值问题
- 计数问题

## 9. 记忆技巧

1. **三步走**：扩大 → 收缩 → 更新
2. **双指针**：left 和 right 维护窗口边界
3. **状态维护**：使用合适的数据结构记录窗口状态

## 10. 实际应用

- 文本编辑器中的查找功能
- 网络流量监控
- 数据流分析
- 实时数据处理
